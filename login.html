<!DOCTYPE html>

<head>
    <title>Patch - Login</title>
    <link rel="icon" type="image/x-ico" href="images/favicon.ico"/>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/login-styles.css">
</head>

<body class="gradient" onload="load(showMain, 500)">

    <br><br>

    <div id="loader" class="centre">
        <center>
            <img src="images/logo_w.png" alt="Patch" style="width:200px;height:200px;">
            <div class="loader"></div>
        </center>
    </div>

    <div id="main" class="centre" style="background-color:white;">
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br>

            <form action="" onsubmit="validate(); return false">
                <input type="text" id="username" name="username" placeholder="Username"><br><br>
                <input type="password" id="password" name="password" placeholder="Password">
                <p><u><a onclick="showRecover()">Forgotten password?</a></u></p><br><br><br>
                <p id="errMsg" style="color:white">Invalid username or password.</p>
                <input class="btn" type="submit" value="Login">
            </form>
            
            <p>Don't have an account yet? <b><u><a onclick="showCreate()">Create an account.</a></u></b></p>
        </center>
    </div>

    <div id="recovery" class="centre" style="background-color:white;">
        <a onclick="showMain()"><u>Back</u></a>
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br>

        </center>
    </div>

    <div id="create" class="centre" style="background-color:white;">
        <a onclick="showMain()"><u>Back</u></a>
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br>

        </center>
    </div>

    <script>
        function load(toExecute, n) {
            document.getElementById("loader").style.display = "block";
            document.getElementById("main").style.display = "none";
            document.getElementById("recovery").style.display = "none";
            document.getElementById("create").style.display = "none";
            var delay = n + Math.floor(Math.random() * 1500);
            setTimeout(toExecute, delay);
        }
        
        function showMain() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("main").style.display = "block";
            document.getElementById("recovery").style.display = "none";
            document.getElementById("create").style.display = "none";
            document.getElementById("errMsg").style.color = "white";
        }

        function showRecover() {
            document.getElementById("main").style.display = "none";
            document.getElementById("recovery").style.display = "block";
        }

        function showCreate() {
            document.getElementById("main").style.display = "none";
            document.getElementById("create").style.display = "block";
        }

        function toMain() {
            window.location.href = "main.html";
        }

        function validate() {
            document.getElementById("errMsg").style.color = "white";
            var valid = true
            // validation of username and password
            if (valid) {
                load(toMain, 2000)
            }
            else
            {
                document.getElementById("errMsg").style.color = "red";
            }
        }
    </script>
</body>