<!DOCTYPE html>
<head>
    <title>Patch - Login</title>
    <link rel="icon" type="image/x-ico" href="images/favicon.ico"/>
    <link rel="stylesheet" href="main.css">

    <style>
        div {
            height: 600px;
            width: 40%;
            margin: auto;
            padding: 10px;
            border-radius: 12px;

            position: relative;
            animation-name: glideUp;
            animation-duration: 1s
        }
        input {
            height: 30px;
            width: 180px;
        }
        .btn {
            width: 250px;
            height: 50px;
            color: white;
            background-color: #4ac9b1;
            cursor: pointer;
        }
        a {
            cursor: pointer;
        }
        
    </style>

</head>
<body class="gradient" onload="load(showLogin, 500)">

    <br><br>

    <div id="loader">
        <center>
            <img src="images/logo_w.png" alt="Patch" style="width:200px;height:200px;">
            <div class="loader"></div>
        </center>
    </div>

    <div id="login" style="background-color:white;">
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br>

            <form action="" onsubmit="validate(); return false">
                <input type="text" id="username" name="username" placeholder="Username"><br><br>
                <input type="password" id="password" name="password" placeholder="Password">
                <p><u><a onclick="showRecover()">Forgotten password?</a></u></p><br><br><br>
                <p id="errMsg" style="color:white">Invalid username or password.</p>
                <input class="btn" type="submit" value="Login">
            </form>
            
            <p>Don't have an account yet? <b><u><a onclick="showCreate()">Create an account.</a></u></b></p>
        </center>
    </div>

    <div id="recovery" style="background-color:white;">
        <a onclick="showLogin()"><u>Back</u></a>
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br><br>
            
            <p>Enter your email address to reset password.</p>
            <form action="" onsubmit="return false">
                <input type="text" id="email" name="email" placeholder="Email Address"><br><br><br><br><br><br>
                <input class="btn" type="submit" value="Reset Password">
            </form>

        </center>
    </div>

    <div id="create" style="background-color:white;">
        <a onclick="showLogin()"><u>Back</u></a>
        <center>
            <img src="images/logo.png" alt="Patch" style="width:200px;height:200px;">
            <br><br>

            <form action="" onsubmit="return false">
                <label>Username</label>
                <input type="text" id="username" name="username"><br><br>
                <label>Email Address</label>
                <input type="text" id="email" name="email"><br><br>
                <label>Password</label>
                <input type="password" id="password1" name="password1"><br><br>
                <label>Confirm Password</label>
                <input type="password" id="password2" name="password2"><br><br>
                <p id="errC" style="color:white">.</p>
                <input class="btn" type="submit" value="Create Account">
            </form>

        </center>
    </div>

    <script>
        function load(toExecute, n) {
            document.getElementById("loader").style.display = "block";
            document.getElementById("login").style.display = "none";
            document.getElementById("recovery").style.display = "none";
            document.getElementById("create").style.display = "none";
            var delay = n + Math.floor(Math.random() * 1500);
            setTimeout(toExecute, delay);
        }
        
        function showLogin() {
            document.getElementById("loader").style.display = "none";
            document.getElementById("login").style.display = "block";
            document.getElementById("recovery").style.display = "none";
            document.getElementById("create").style.display = "none";
            document.getElementById("errMsg").style.color = "white";
        }

        function showRecover() {
            document.getElementById("login").style.display = "none";
            document.getElementById("recovery").style.display = "block";
        }

        function showCreate() {
            document.getElementById("login").style.display = "none";
            document.getElementById("create").style.display = "block";
        }

        function toMain() {
            window.location.href = "main.html";
        }

        function validate() {
            document.getElementById("errMsg").style.color = "white";
            var valid = true
            // validation of username and password
            if (valid) {
                load(toMain, 2000)
            }
            else
            {
                document.getElementById("errMsg").style.color = "red";
            }
        }
    </script>
</body>